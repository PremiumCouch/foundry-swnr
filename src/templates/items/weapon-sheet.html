<form class="{{cssClass}} -m-2 p-2 form-sheet">
  {{> "systems/swnr/templates/items/fragments/desc.html"}}
  {{> "systems/swnr/templates/items/fragments/item-base.html"}}
  <div class="grid m-2 p-2 border border-black grid-cols-2 hidden">
    <div class="bg-yellow-400">Damage</div>
    <div>Shock</div>
    <div>stats/skills</div>
    <div>ammo</div>
    <div>quirks</div>
  </div>
  <div class="grid grid-cols-2">
    <div class="flex flex-wrap gap-1">
      <h3 class="text-base w-full">Damage:</h3>
      <div  class="ml-2">
        {{!-- <div>{{localize 'swnr.weapon.damageFormula'}}:</div> --}}
        <div>Formula:</div>
        <input
          class="w-24 text-center px-1.5 py-3 border border-gray-800 bg-gray-400 bg-opacity-75 placeholder-blue-800 placeholder-opacity-75 rounded-md"
          type="text"
          name="data.damage"
          value="{{system.damage}}"
        />
      </div>
      <div>
        <div>{{localize 'swnr.weapon.attackBonus'}}:</div>
        <input
          type="number"
          class="w-10 text-center px-1.5 py-3 border border-gray-800 bg-gray-400 bg-opacity-75 placeholder-blue-800 placeholder-opacity-75 rounded-md"
          name="data.ab"
          step="1"
          data-dtype="Number"
          value="{{system.ab}}"
        />
      </div>
    </div>
    <div class="grid md:grid-cols-2 gap-1">
      <h3 class="text-base w-full md:col-span-2">
        {{localize 'swnr.weapon.shock.label'}}:
      </h3>
      <div  class="ml-2">
        <div>{{localize 'swnr.weapon.damage'}}:</div>
        <input
          type="number"
          class="w-8 text-center px-1.5 py-3 border border-gray-800 bg-gray-400 bg-opacity-75 placeholder-blue-800 placeholder-opacity-75 rounded-md"
          name="data.shock.dmg"
          value="{{system.shock.dmg}}"
          min="0"
          step="1"
        />
      </div>
      <div>
        <div>{{localize 'swnr.weapon.shock.ac'}}:</div>
        <input class="w-8 text-center px-1.5 py-3 border border-gray-800
        bg-gray-400 bg-opacity-75 placeholder-blue-800 placeholder-opacity-75
        rounded-md" type="number" name="data.shock.ac" value="{{system.shock.ac}}"
        min="10" step="1" {{#if (lte system.shock.dmg 0)}} disabled {{/if}}>
      </div>
    </div>
    {{#if system.settings.useTrauma}}
    <!-- Trauma -->
    <div class="grid md:grid-cols-2 gap-1 pt-1">
      <h3 class="text-base w-full md:col-span-2">
        {{localize 'swnr.weapon.trauma.label'}}:
      </h3>
      <div class="ml-2">
        <div>{{localize 'swnr.weapon.trauma.die'}}:</div>
        <input
          class="w-16 text-center px-1.5 py-3 border border-gray-800 bg-gray-400 bg-opacity-75 placeholder-blue-800 placeholder-opacity-75 rounded-md"
          name="data.trauma.die"
          type="text"
          value="{{system.trauma.die}}"
        />
      </div>
      <div>
        <div>{{localize 'swnr.weapon.trauma.rating'}}:</div>
          <input
          type="number"
          class="w-8 text-center px-1.5 py-3 border border-gray-800 bg-gray-400 bg-opacity-75 placeholder-blue-800 placeholder-opacity-75 rounded-md"
          name="data.trauma.rating"
          value="{{system.trauma.rating}}"
          min="0"
          step="1"
        />
      </div>
    </div>
    {{/if}}
    <div class="pt-1">
      <div>{{localize 'swnr.sheet.stats'}}:</div>
      <select
        class="px-1 border border-gray-800 bg-gray-400 bg-opacity-75 rounded-md"
        name="data.stat"
      >
        {{#select system.stat}}
        <option value="str">{{localize 'swnr.stat.long.str'}}</option>
        <option value="dex">{{localize 'swnr.stat.long.dex'}}</option>
        <option value="con">{{localize 'swnr.stat.long.con'}}</option>
        <option value="int">{{localize 'swnr.stat.long.int'}}</option>
        <option value="wis">{{localize 'swnr.stat.long.wis'}}</option>
        <option value="cha">{{localize 'swnr.stat.long.cha'}}</option>
        {{/select}}
      </select>
      <select
        class="px-1 border border-gray-800 bg-gray-400 bg-opacity-75 rounded-md"
        name="data.secondStat"
      >
        {{#select system.secondStat}}
        <option value="none">{{localize 'swnr.ammo.none'}}</option>
        <option value="str">{{localize 'swnr.stat.long.str'}}</option>
        <option value="dex">{{localize 'swnr.stat.long.dex'}}</option>
        <option value="con">{{localize 'swnr.stat.long.con'}}</option>
        <option value="int">{{localize 'swnr.stat.long.int'}}</option>
        <option value="wis">{{localize 'swnr.stat.long.wis'}}</option>
        <option value="cha">{{localize 'swnr.stat.long.cha'}}</option>
        {{/select}}
      </select>
    </div>
    <div class="grid md:grid-cols-2 gap-1">
      <div >
        <div>{{localize 'swnr.item.range'}}:</div>
        <input
          type="number"
          class="w-12 px-1.5 py-3 border border-gray-800 bg-gray-400 bg-opacity-75 placeholder-blue-800 placeholder-opacity-75 rounded-md"
          step="1"
          name="data.range.normal"
          min="0"
          data-dtype="Number"
          value="{{system.range.normal}}"
        /> /
        <input
          type="number"
          class="w-12 px-1.5 py-3 border border-gray-800 bg-gray-400 bg-opacity-75 placeholder-blue-800 placeholder-opacity-75 rounded-md"
          step="1"
          name="data.range.max"
          min="0"
          data-dtype="Number"
          value="{{system.range.max}}"
        />
      </div>
      <div>
      {{#if owner}}
        <div>{{localize 'swnr.sheet.skill'}}:</div>
        <select
          class="px-1 border border-gray-800 bg-gray-400 bg-opacity-75 rounded-md"
          name="data.skill"
        >
          {{#select system.skill}}
          <option value="">{{ localize 'swnr.weapon.noSetSkill'}}</option>
          {{#each actor.itemTypes.skill }}
          <option value="{{this.id}}">
            {{this.name}} {{this.system.rank}}
          </option>
          {{/each}} {{/select}}
        </select>
      {{/if}}
      </div>
    </div>
    <div class="flex flex-wrap gap-1">
      <h3 class="text-base w-full">{{localize 'swnr.weapon.ammo'}}:</h3>
      <div>
        <div> {{localize 'swnr.sheet.ammoType'}}: </div>
        <select
          class="px-1 border border-gray-800 bg-gray-400 bg-opacity-75 rounded-md"
          name="data.ammo.type"
        >
          {{#select system.ammo.type}}
          <option value="none">{{localize 'swnr.ammo.none'}}</option>
          <option value="typeAPower">
            {{localize 'swnr.ammo.typeAPower'}}
          </option>
          <option value="typeBPower">
            {{localize 'swnr.ammo.typeBPower'}}
          </option>
          <option value="ammo">{{localize 'swnr.ammo.ammo'}}</option>
          <option value="missile">{{localize 'swnr.ammo.missile'}}</option>
          <option value="special">{{localize 'swnr.ammo.special'}}</option>
          <option value="infinite">{{localize 'swnr.ammo.infinite'}}</option>
          {{/select}}
        </select>
      </div>
      {{#if (and (ne system.ammo.type "none") (ne system.ammo.type "infinite"))}}
      <div class="pl-2">
        {{localize 'swnr.sheet.magazine'}}:
        <div class="flex gap-1 items-center">
          <div
            class="flex border border-gray-800 bg-gray-400 bg-opacity-75 placeholder-blue-800 placeholder-opacity-75 rounded-md items-center"
          >
            <input
              type="number"
              class="w-10 text-right subfield"
              name="data.ammo.value"
              max="{{system.ammo.max}}"
              value="{{system.ammo.value}}"
              data-dtype="Number"
              step="1"
              min="0"
            />
            <span>/</span>
            <input
              type="number"
              class="w-10 text-left subfield"
              name="data.ammo.max"
              value="{{system.ammo.max}}"
              data-dtype="Number"
              step="1"
              min="0"
            />
          </div>
        </div>
      </div>
      {{/if}}
    </div>
    <div class="-flex grid grid-cols-2 flex-wrap gap-1">
      <div class="w-full text-base col-span-2">Quirks:</div>
      {{#if (ne system.ammo.type "none")}}
      <label class="flex items-center gap-1">
        <input
          type="checkbox"
          name="data.ammo.longReload"
          {{checked system.ammo.longReload}}
        />
        <div>{{localize 'swnr.sheet.longReload'}}</div>
      </label>
      <label class="flex items-center gap-1">
        <input
          type="checkbox"
          name="data.ammo.burst"
          {{checked system.ammo.burst}}
        />
        <div>{{localize 'swnr.sheet.burst'}}</div>
      </label>

      <label class="flex items-center gap-1">
        <input
          type="checkbox"
          name="data.ammo.suppress"
          {{checked system.ammo.suppress}}
        />
        <div>{{localize 'swnr.sheet.suppress'}}</div>
      </label>
      {{/if}}
      <label class="flex items-center gap-1">
        <input
          type="checkbox"
          name="data.skillBoostsDamage"
          {{checked system.skillBoostsDamage}}
      />
        <div>{{localize 'swnr.weapon.skillAddDamage'}}</div>
      </label>
      
      <label class="flex items-center gap-1">
        <input
          type="checkbox"
          name="data.skillBoostsShock"
          {{checked system.skillBoostsShock}}
      />
        <div>{{localize 'swnr.weapon.skillAddShockDamage'}}</div>
      </label>


      <label class="flex items-center gap-1">
        <div>{{localize 'swnr.sheet.saves.save'}}:</div>

        <select
          class="px-1 border border-gray-800 bg-gray-400 bg-opacity-75 rounded-md"
          name="data.save"
        >
          {{#select system.save}}
          <option value="">-</option>
          <option value="physical">{{localize 'swnr.sheet.saves.physical'}}</option>
          <option value="mental">{{localize 'swnr.sheet.saves.mental'}}</option>
          <option value="evasion">{{localize 'swnr.sheet.saves.evasion'}}</option>
          {{#if useHomebrewLuckSave}}
            <option value="luck">{{localize 'swnr.sheet.saves.luck'}}</option>
          {{/if}}
          {{/select}}
        </select>  
      </label>
    </div>
  </div>
  <div class="grid grid-cols-1">
      {{#if system.remember}}
        {{#if system.remember.use}}
          <label class="flex items-center gap-1">
            <input
              type="checkbox"
              name="data.remember.use"
              {{checked system.remember.use}}
            />
            <div>Use remembered attack (burst, mod, etc). <br>
              Uncheck to forget and ask on next to roll -- skill selection will remain.</div>
          </label>
        {{/if}}
      {{/if}}
  </div>
</form>
